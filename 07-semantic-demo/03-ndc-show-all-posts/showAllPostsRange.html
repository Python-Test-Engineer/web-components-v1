<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="../_css/w3.css">
  <link rel="stylesheet" href="../_css/library.css">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Show All Posts in a Category</title>
  <script src="showAllPostsRange.js"></script>
  <style>
    .wrapper {
      max-width: 1000px;
      margin: 0 auto;
      padding: 0 10px;
    }
  </style>
</head>

<body>
  <div class="wrapper">
    <div class="content">
      <h2>Raw POSTS data loaded.</h2>
      <p>
        <button class="w3-button w3-blue" id="btnChange"></button>
      </p>
      <p>
        <strong>Explanantion: </strong>We load all posts in <br><a href='../_data/jsonplaceholderposts100.json'
          target='_new'>../_data/jsonplaceholderposts100.json.</a><br>
      </p>
      <p>
        We can set attributes of MIN and MAX on the HTML tag in the Light DOM.
      </p>
      <p>
        However, if we are changing these values programatically then it is best to have just one attribute because the
        event is fired every time an attribute is changed and this might involve an AJX request for data.
      </p>
      <p>Thus it is better to combine more than one property into one object, JSON.stringify it and pass it to the
        component.</p>
      <!-- WEB COMPONENT -->
      <!-- if max omitted then a single post is displayed -->
      <show-all-posts-range range='{"min": 1,"max":1}'></show-all-posts-range>
      <show-all-posts-range range='{"min": 22}'></show-all-posts-range>
      <!-- WEB COMPONENT -->
      <script>
        objRange = {
          min: 50,
          max: 65
        };
        stringRange = JSON.stringify(objRange);
        document.getElementById('btnChange').innerHTML = `Change range to ${objRange.min + 1} - ${objRange.max}`;
        //console.log(stringRange);
        const btn = document.getElementById('btnChange');
        btn.addEventListener('click', function () {
          const webComponent = document.querySelector('show-all-posts-range');
          webComponent.setAttribute('range', stringRange);
        })
      </script>
      
    </div>
    <br><br>
  </div>
</body>

</html>