<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="../_css/web-course.css">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>15-child-to-parent</title>
  </head>
  <style>
    .container {
      padding: 20px;
      border: 4px solid red;
      background: #ccc;
      width: 900px;
      border-radius: 10px;
      margin: 10px auto;
    }

    #pOutput {
      color: black;
      margin-bottom: 40px;
      font-weight: bold;
    }

    p {
      margin-bottom: 10px;
    }

    child-one {
      background: linen
    }
  </style>
  </head>

  <body>


    <main>
      <div class="explanation">
        <h1>15-child-parent</h1>
      </div>
      <div class="component">
        <!-- WEB COMPONENT -->

        <!-- $COMPONENT -->
        <child-one></child-one>
        <!-- $COMPONENT -->

        <script src="./15-child-to-parent.js"></script>
        <!-- WEB COMPONENT -->



      </div>
      <div style="border:2px solid red; padding:20px;">
        <h3>Parent in red box: <span id="output"></span></h3>

      </div>

      <div class="notes">
        <p>
          When the CHILD ONE button is clicked it sends a CUSTOM EVENT that bubbles up out of the component. We can
          listen
          for this event (childOneClick) with an addEventListener.
        </p>
        <p>
          Data is also passed with the event in the [detail]
          property of the CUSTOM EVENT. A RND number has been added for demo purposes.
        </p>
        <p>We see this in the BLOG1 where the POST titles are buttons that cause the post to be displayed in the main
          area.</p>
      </div>

    </main>

    <footer>
      <div class="w3-container w3-blue w3-center footer">
        <p>WEB COMPONENTS WORKSHOP - &copy; Craig West 2020</p>
      </div>
    </footer>
    <!-- Listen for Custom Event in Custom HTML tag -->
    <script>
      const childOne = document.querySelector('child-one')
      childOne.addEventListener('childOneClick', e => {

        console.log('%cEventName: ', 'color: green; font - size: 18px; ', e.type)
        console.log('%cPayload: ', 'color: blue; font - size: 18px; ', e.detail,);
        const output = document.getElementById('output');
        output.innerHTML = '<b>' + e.detail + '</b>';

      });
    </script>
    <!-- Listen for Custom Event in container div tag -->
    <!-- <script>
    const container = document.getElementById('container');
    container.addEventListener('childOneClick', e => {
      console.log("PAGE <child-one> event HEARD on page in container");
      console.log(e);
      const pOutput = document.getElementById('pOutput');
      pOutput.innerHTML = '<b>' + e.detail + '</b>';
      const divOutput = document.getElementById('divOutput');
      divOutput.innerHTML = '<b>' + e.detail + '</b>';
    });
  </script> -->
    <script type='module'>
      import './05-showPost.js';
    </script>
  </body>

</html>