<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="../_css/w3.css" />
    <link rel="stylesheet" href="../_css/web-course.css" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Show All Posts in a Category</title>

    <script src="06-showAllPostsRange.js"></script>
    <style>
      .wrapper {
        max-width: 1000px;
        margin: 0 auto;
      }
    </style>
  </head>

  <body>
    <div class="wrapper">
      <div class="content">
        <h2>Raw POSTS data loaded.</h2>
        <p>
          <button class="w3-button w3-blue" id="btnChange">
            Set range: 30 - 50
          </button>
        </p>
        <p>
          <strong>Explanantion: </strong>We load all posts in <br /><a
            href="06-data.json"
            target="_new"
            >../_data/jsonplaceholderposts100.json.</a
          ><br />
        </p>
        <p>
          We can set attributes of MIN and MAX on the HTML tag in the Light DOM.
        </p>
        <p>
          However, if we are changing these values programatically then it is
          best to have just one attribute because the event is fired every time
          an attribute is changed and this might involve an AJX request for
          data.
        </p>
        <p>
          Thus it is better to combine more than one property into one object,
          JSON.stringify it and pass it to the component.
        </p>
        <p><b>disconnectedCallback life cycle event demonstrated...</b></p>
        <script>
          const objRange = {
            min: 30,
            max: 50
          };
          console.log(objRange);
          const stringRange = JSON.stringify(objRange);
          console.log(stringRange);
          const btn = document.getElementById('btnChange');
          btn.addEventListener('click', function () {
            const webComponent = document.querySelector('show-all-posts-range');
            webComponent.setAttribute('range', stringRange);
          });
        </script>

        <p>-----------------------------------------------------</p>
        <div id="output">
          <!-- WEB COMPONENT -->
          <!-- initial values of range set in class constructor - these can be removed and set here in range attribute -->
          <show-all-posts-range></show-all-posts-range>
          <!-- WEB COMPONENT -->
        </div>
        <div class="spacer"></div>
        <div class="exercise">
          <h3>EXERCISE:</h3>
          <p>
            In DEV TOOLS > Elements change the value of 'displaytext' in
            div#output to see how the attribute change is reflected into
            component.
          </p>
          <p>When you click on TOOLTIP you will se new text being shown.</p>
        </div>
      </div>
      <br /><br />
    </div>
  </body>
</html>
